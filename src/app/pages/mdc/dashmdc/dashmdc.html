<div class="flex min-h-screen">

  <!-- ======================= SIDEBAR ======================= -->
  <aside class="w-64 bg-white shadow-md flex flex-col p-6 space-y-8">

    <div class="flex items-center space-x-2">
      <div class="w-3 h-3 bg-brand rounded-full"></div>
      <span class="text-lg font-semibold text-heading">HÃ´pital</span>
    </div>

    <nav class="space-y-1">
      <a class="block px-3 py-2 rounded-base bg-brand text-white font-medium text-sm shadow-xs">
        ðŸ“… Mes disponibilitÃ©s
      </a>

      <a class="block px-3 py-2 rounded-base hover:bg-neutral-secondary-medium text-heading text-sm">
        ðŸ—‚ Mes rendez-vous
      </a>

      <a class="block px-3 py-2 rounded-base hover:bg-neutral-secondary-medium text-heading text-sm">
        ðŸ‘¤ Mon profil
      </a>

      <a (click)="dec()"
         class="block px-3 py-2 rounded-base hover:bg-red-100 text-red-700 text-sm font-medium cursor-pointer">
        ðŸ”´ DÃ©connexion
      </a>
    </nav>

    <div class="mt-auto text-xs text-gray-500">
      Â© 2025 SystÃ¨me Hospitalier
    </div>

  </aside>

  <!-- ======================= CONTENU PRINCIPAL ======================= -->
  <main class="flex-1 p-10 space-y-10">

    <!-- HEADER -->
    <header class="flex justify-between items-center">
      <h1 class="text-3xl font-bold text-heading">Espace MÃ©decin</h1>

      <div class="flex items-center space-x-3">
        <div class="text-right">
          <div class="font-medium text-heading">{{ medecin.noms_complet }}</div>
          <div class="text-xs text-gray-500">{{ medecin.specialite?.nom }}</div>
        </div>
        <div class="w-10 h-10 bg-gray-300 rounded-full"></div>
      </div>
    </header>

    <!-- ======================= SECTION DISPONIBILITÃ‰S ======================= -->
    <section class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-heading mb-4">Mes disponibilitÃ©s</h2>

      <!-- Formulaire dynamique -->
      <form class="grid grid-cols-1 md:grid-cols-3 gap-4" (ngSubmit)="createDsp()">

        <div>
          <label class="block text-sm font-medium text-heading mb-1">Date</label>
          <input type="date" [(ngModel)]="date" name="date"
            class="block w-full rounded-base border border-default-medium bg-neutral-secondary-medium px-3 py-2.5 text-sm shadow-xs">
        </div>

        <div>
          <label class="block text-sm font-medium text-heading mb-1">Heure dÃ©but</label>
          <input type="time" [(ngModel)]="heure_debut" name="heure_debut"
            class="block w-full rounded-base border border-default-medium bg-neutral-secondary-medium px-3 py-2.5 text-sm shadow-xs">
        </div>

        <div>
          <label class="block text-sm font-medium text-heading mb-1">Heure fin</label>
          <input type="time" [(ngModel)]="heure_fin" name="heure_fin"
            class="block w-full rounded-base border border-default-medium bg-neutral-secondary-medium px-3 py-2.5 text-sm shadow-xs">
        </div>

        <button type="submit"
          class="col-span-1 md:col-span-3 w-full rounded-base bg-green-600 px-4 py-2.5 text-sm font-medium text-white shadow-xs hover:bg-green-700">
          Ajouter une disponibilitÃ©
        </button>

      </form>

      <!-- Liste dynamique -->
      <div class="mt-6 space-y-4">

        <div *ngFor="let d of disponibilites"
             class="p-4 border rounded-lg flex justify-between items-center">

          <div>
            <div class="font-medium">
              {{ d.date }} â€¢ {{ d.heure_debut }} â†’ {{ d.heure_fin }}
            </div>
            <div class="text-sm text-gray-500">CrÃ©neau disponible</div>
          </div>

          <span (click)="deleteDsp(d.id)"
                class="px-3 py-1 rounded bg-red-200 text-red-700 text-xs cursor-pointer">
            Supprimer
          </span>
        </div>

      </div>
    </section>

    <!-- ======================= SECTION RENDEZ-VOUS ======================= -->
    <section class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-heading mb-4">Mes rendez-vous</h2>

      <div class="space-y-4">

        <div *ngFor="let r of rdvs"
             class="p-4 border rounded-lg flex justify-between items-center">

          <div>
            <div class="font-medium">{{ r.heure }} â€“ {{ r.date }}</div>
            <div class="text-sm text-gray-600">
              Patient : <span class="font-medium">{{ r.patient?.noms_complet }}</span>
            </div>
            <div class="text-sm text-gray-500">Motif : {{ r.motif }}</div>
          </div>

          <span class="px-3 py-1 rounded bg-blue-200 text-blue-700 text-xs cursor-pointer">
            Voir dossier
          </span>
        </div>

      </div>
    </section>

  </main>

</div>
