<div class="flex min-h-screen bg-gray-100">

  <!-- SIDEBAR -->
  <aside class="hidden md:flex w-64 bg-white shadow-md flex-col p-6 space-y-8">

    <div class="flex items-center space-x-2">
      <div class="w-3 h-3 bg-blue-600 rounded-full"></div>
      <span class="text-lg font-semibold text-gray-800">Admin Panel</span>
    </div>

    <nav class="space-y-1">
      <a class="block px-3 py-2 rounded bg-blue-600 text-white font-medium text-sm shadow">
        âš™ï¸ Gestion du systÃ¨me
      </a>
      <a class="block px-3 py-2 rounded hover:bg-gray-100 text-gray-800 text-sm">
        ğŸ‘¨â€âš•ï¸ Gestion mÃ©decins
      </a>
      <a class="block px-3 py-2 rounded hover:bg-gray-100 text-gray-800 text-sm">
        ğŸ§‘â€ğŸ¤â€ğŸ§‘ Gestion utilisateurs
      </a>
      <a class="block px-3 py-2 rounded hover:bg-gray-100 text-gray-800 text-sm">
        ğŸ§¬ Gestion spÃ©cialitÃ©s
      </a>

      <a (click)="dec()"
         class="block px-3 py-2 rounded hover:bg-red-100 text-red-700 text-sm font-medium cursor-pointer">
        ğŸ”´ DÃ©connexion
      </a>
    </nav>
  </aside>

  <!-- CONTENU PRINCIPAL -->
  <main class="flex-1 p-6 md:p-10 space-y-10">

    <!-- HEADER -->
    <header class="flex justify-between items-center flex-wrap gap-4">
      <h1 class="text-3xl font-bold text-gray-800">Espace Administrateur</h1>
    </header>

    <!-- FORMULAIRE CREATION UTILISATEUR -->
    <section class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">CrÃ©er un utilisateur</h2>

      <form (ngSubmit)="createUtilisateur()" class="grid grid-cols-1 md:grid-cols-3 gap-4">

        <input type="text" placeholder="Nom" [(ngModel)]="nom" name="nom"
               class="rounded border border-gray-300 px-3 py-2">

        <input type="text" placeholder="PrÃ©nom" [(ngModel)]="prenom" name="prenom"
               class="rounded border border-gray-300 px-3 py-2">

        <input type="email" placeholder="Email" [(ngModel)]="email" name="email"
               class="rounded border border-gray-300 px-3 py-2">

        <input type="password" placeholder="Mot de passe" [(ngModel)]="password" name="password"
               class="rounded border border-gray-300 px-3 py-2">

        <select [(ngModel)]="role" name="role"
                class="rounded border border-gray-300 px-3 py-2">
          <option value="">Choisir un rÃ´le</option>
          <option value="medecin">MÃ©decin</option>
          <option value="receptionniste">RÃ©ceptionniste</option>
        </select>

        <select [(ngModel)]="specialiteId" name="specialiteId"
                class="rounded border border-gray-300 px-3 py-2">
          <option value="">SpÃ©cialitÃ© (si mÃ©decin)</option>
          <option *ngFor="let s of specialites" [value]="s.id">{{ s.nom }}</option>
        </select>

        <button type="submit"
                class="md:col-span-3 w-full rounded bg-blue-600 px-4 py-2 text-white">
          Ajouter lâ€™utilisateur
        </button>
      </form>
    </section>

    <!-- FORMULAIRE CREATION SPECIALITE -->
    <section class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Ajouter une spÃ©cialitÃ© mÃ©dicale</h2>

      <form (ngSubmit)="createSpecialite()" class="flex gap-4">

        <input type="text" placeholder="Nom de la spÃ©cialitÃ©"
               [(ngModel)]="nomSpecialite" name="nomSpecialite"
               class="flex-1 rounded border border-gray-300 px-3 py-2">

        <button type="submit"
                class="rounded bg-green-600 px-4 py-2 text-white">
          Ajouter
        </button>
      </form>
    </section>

<!-- TABLEAU DES UTILISATEURS -->
<section class="bg-white rounded-lg shadow-md p-6">
  <h2 class="text-xl font-semibold text-gray-800 mb-4">Liste des utilisateurs</h2>

  <div class="overflow-x-auto">
    <table class="w-full table-auto border-collapse border border-gray-200">
      <thead>
        <tr class="bg-gray-100 border-b border-gray-200 text-left">
          <th class="p-3 text-sm font-medium text-gray-700">Nom</th>
          <th class="p-3 text-sm font-medium text-gray-700">Email</th>
          <th class="p-3 text-sm font-medium text-gray-700">RÃ´le</th>
          <th class="p-3 text-sm font-medium text-gray-700">SpÃ©cialitÃ©</th>
          <th class="p-3 text-sm font-medium text-gray-700 text-center">Action</th>
        </tr>
      </thead>

      <tbody class="divide-y divide-gray-200">
        <tr *ngFor="let u of utilisateurs" class="hover:bg-gray-50">
          <td class="p-3 text-sm text-gray-700">{{ u.noms_complet }}</td>
          <td class="p-3 text-sm text-gray-700">{{ u.email }}</td>
          <td class="p-3 text-sm text-gray-700">{{ u.type }}</td>

          <!-- SpÃ©cialitÃ© -->
          <td class="p-3 text-sm text-gray-700 truncate max-w-xs">
            <ng-container *ngFor="let s of specialites">
              <span *ngIf="s?.id === u.specialiteId">{{ s.nom }}</span>
            </ng-container>
          </td>

          <!-- Bouton Activer / DÃ©sactiver -->
          <td class="p-3 text-center">
            <button
              (click)="activerUser(u.id)"
              [ngClass]="u.estActif ? 'bg-red-600' : 'bg-green-600'"
              class="px-4 py-1 text-white text-sm rounded shadow hover:opacity-90 transition"
            >
              {{ u.estActif ? 'DÃ©sactiver' : 'Activer' }}
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>




  </main>
</div>
